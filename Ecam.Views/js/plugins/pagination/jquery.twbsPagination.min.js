(function(d,l,m,k){var h=d.fn.twbsPagination,g=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.twbsPagination.defaults,b);this.options.totalPages=Math.ceil(cInt(this.options.total)/cInt(this.options.rowsPerPage));isNaN(this.options.totalPages)&&(this.options.totalPages=0);this.init(this.options)};g.prototype={constructor:g,init:function(a){this.options=d.extend({},this.options,a);this.options.totalPages<this.options.visiblePages&&(this.options.visiblePages=this.options.totalPages);
a="function"===typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName");this.$listContainer="UL"===a?this.$element:d("<ul></ul>");this.$listContainer.addClass(this.options.paginationClass);"UL"!==a&&this.$element.append(this.$listContainer);this.render(this.getPages(this.options.startPage));this.setupEvents();if(this.options.onCompleted)this.options.onCompleted();return this},destroy:function(){this.$element.empty();return this},show:function(a){this.render(this.getPages(a));
this.setupEvents();if(this.options.onPageClick)this.options.onPageClick(a);return this},buildListItems:function(a){var b=d();this.options.first&&(b=b.add(this.buildItem("first",1)));this.options.prev&&(b=b.add(this.buildItem("prev",1<a.currentPage?a.currentPage-1:1)));for(var c=0;c<a.numeric.length;c++)b=b.add(this.buildItem("page",a.numeric[c]));this.options.next&&(b=b.add(this.buildItem("next",a.currentPage>=this.options.totalPages?this.options.totalPages:a.currentPage+1)));this.options.last&&(b=
b.add(this.buildItem("last",this.options.totalPages)));return b},buildItem:function(a,b){var c=d("<li></li>"),f=d("<a></a>"),e=null;c.addClass(a);c.data("page",b);switch(a){case "page":e=b;break;case "first":e=this.options.first;break;case "prev":e=this.options.prev;break;case "next":e=this.options.next;break;case "last":e=this.options.last}c.append(f.attr("href",this.href(b)).html(e));return c},getPages:function(a){var b=[],c=Math.floor(this.options.visiblePages/2),d=a-c+1-this.options.visiblePages%
2,c=a+c;0>=d&&(d=1,c=this.options.visiblePages);c>this.options.totalPages&&(d=this.options.totalPages-this.options.visiblePages+1,c=this.options.totalPages);for(;d<=c;)b.push(d),d++;return{currentPage:a,numeric:b}},render:function(a){this.$listContainer.children().remove();this.$listContainer.append(this.buildListItems(a));this.$listContainer.find(".page").removeClass("active");this.$listContainer.find(".page").filter(function(){return d(this).data("page")===a.currentPage}).addClass("active");1===
a.currentPage&&this.$listContainer.find(".prev a,.first a").attr("href","javascript:void(0);");a.currentPage===this.options.totalPages&&this.$listContainer.find(".next a,.last a").attr("href","javascript:void(0);");this.$listContainer.find(".first").toggleClass("disabled",1===a.currentPage);this.$listContainer.find(".last").toggleClass("disabled",a.currentPage===this.options.totalPages);this.$listContainer.find(".prev").toggleClass("disabled",1===a.currentPage);this.$listContainer.find(".next").toggleClass("disabled",
a.currentPage===this.options.totalPages);var b="",b=(cInt(a.currentPage)-1)*cInt(this.options.rowsPerPage)+1,c=cInt(b)+cInt(this.options.rowsPerPage)-1,f=this.options.total;this.options.total<c&&(c=this.options.total);b="Showing "+b+" to "+c+" of "+f+" entries";0>=f&&(b="",this.$listContainer.find(".first").addClass("disabled"),this.$listContainer.find(".last").addClass("disabled"),this.$listContainer.find(".prev").addClass("disabled"),this.$listContainer.find(".next").addClass("disabled"));if(this.options.onRender)this.options.onRender(b,
this.options.totalPages)},setupEvents:function(){var a=this;this.$listContainer.find("li").each(function(){var b=d(this);b.off();b.hasClass("disabled")||b.hasClass("active")||b.unbind("click").click(function(){a.show(parseInt(b.data("page"),10))})})},equals:function(a,b){for(var c=0;c<a.length||c<b.length;){if(a[c]!==b[c])return!1;c++}return!0},href:function(a){return this.options.href.replace(this.options.hrefVariable,a)}};d.fn.twbsPagination=function(a){var b=Array.prototype.slice.call(arguments,
1),c,f=d(this),e=f.data("twbs-pagination"),h="object"===typeof a&&a;e&&f.resetPaging();(e=f.data("twbs-pagination"))||f.data("twbs-pagination",e=new g(this,h));"string"===typeof a&&(c=e[a].apply(e,b));return c===k?f:c};d.fn.resetPaging=function(){d(this).data("twbs-pagination",null)};d.fn.twbsPagination.defaults={total:0,rowsPerPage:15,totalPages:0,startPage:1,currentPage:0,visiblePages:5,href:"javascript:void(0);",hrefVariable:"{{number}}",first:"First",prev:"Previous",next:"Next",last:"Last",paginationClass:"pagination",
onCompleted:null,onPageClick:null,onRender:null};d.fn.twbsPagination.Constructor=g;d.fn.twbsPagination.noConflict=function(){d.fn.twbsPagination=h;return this}})(jQuery,window,document);
