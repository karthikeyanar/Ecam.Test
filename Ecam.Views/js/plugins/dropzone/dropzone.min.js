(function(){function l(k){k=l.modules[k];"exports"in k||"function"!==typeof k.definition||(k.client=k.component=!0,k.definition.call(this,k.exports={},k),delete k.definition);return k.exports}l.modules={};l.register=function(k,u){l.modules[k]={definition:u}};l.define=function(k,u){l.modules[k]={exports:u}};l.register("component~emitter@1.1.2",function(k,l){function g(w){if(w){for(var k in g.prototype)w[k]=g.prototype[k];return w}}l.exports=g;g.prototype.on=g.prototype.addEventListener=function(g,
k){this._callbacks=this._callbacks||{};(this._callbacks[g]=this._callbacks[g]||[]).push(k);return this};g.prototype.once=function(g,k){function v(){l.off(g,v);k.apply(this,arguments)}var l=this;this._callbacks=this._callbacks||{};v.fn=k;this.on(g,v);return this};g.prototype.off=g.prototype.removeListener=g.prototype.removeAllListeners=g.prototype.removeEventListener=function(g,k){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var l=this._callbacks[g];if(!l)return this;
if(1==arguments.length)return delete this._callbacks[g],this;for(var r,n=0;n<l.length;n++)if(r=l[n],r===k||r.fn===k){l.splice(n,1);break}return this};g.prototype.emit=function(g){this._callbacks=this._callbacks||{};var k=[].slice.call(arguments,1),l=this._callbacks[g];if(l)for(var l=l.slice(0),r=0,n=l.length;r<n;++r)l[r].apply(this,k);return this};g.prototype.listeners=function(g){this._callbacks=this._callbacks||{};return this._callbacks[g]||[]};g.prototype.hasListeners=function(g){return!!this.listeners(g).length}});
l.register("dropzone",function(k,u){u.exports=l("dropzone/lib/dropzone.js")});l.register("dropzone/lib/dropzone.js",function(k,u){(function(){var g,k,y,v,r,n,z,B={}.hasOwnProperty,C=function(e,c){function g(){this.constructor=e}for(var a in c)B.call(c,a)&&(e[a]=c[a]);g.prototype=c.prototype;e.prototype=new g;e.__super__=c.prototype;return e},D=[].slice;k="undefined"!==typeof Emitter&&null!==Emitter?Emitter:l("component~emitter@1.1.2");n=function(){};g=function(e){function c(a,b){var d,f,h;this.element=
a;this.version=c.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];"string"===typeof this.element&&(this.element=document.querySelector(this.element));c.instances.push(this);this.element.dropzone=this;d=null!=(h=c.optionsForElement(this.element))?h:{};this.options=g({},this.defaultOptions,d,null!=b?b:{});if(this.options.forceFallback||!c.isBrowserSupported())return this.options.fallback.call(this);
null==this.options.url&&(this.options.url=this.element.getAttribute("action"));this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(f=this.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f);!1!==this.options.previewsContainer&&(this.previewsContainer=this.options.previewsContainer?c.getElement(this.options.previewsContainer,"previewsContainer"):this.element);
this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:c.getElements(this.options.clickable,"clickable"));this.init()}var g;C(c,e);c.prototype.events="drop dragstart dragend dragenter dragover dragleave addedfile removedfile thumbnail error errormultiple processing processingmultiple uploadprogress totaluploadprogress sending sendingmultiple success successmultiple canceled canceledmultiple complete completemultiple reset maxfilesexceeded maxfilesreached".split(" ");
c.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",
dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",
accept:function(a,b){return b()},init:function(){return n},forceFallback:!1,fallback:function(){var a,b,d,f,h;this.element.className=""+this.element.className+" dz-browser-not-supported";h=this.element.getElementsByTagName("div");d=0;for(f=h.length;d<f;d++)a=h[d],/(^| )dz-message($| )/.test(a.className)&&(b=a,a.className="dz-message");b||(b=c.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(b));if(a=b.getElementsByTagName("span")[0])a.textContent=this.options.dictFallbackMessage;
return this.element.appendChild(this.getFallbackForm())},resize:function(a){var b,d,f;b={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height};d=a.width/a.height;b.optWidth=this.options.thumbnailWidth;b.optHeight=this.options.thumbnailHeight;null==b.optWidth&&null==b.optHeight?(b.optWidth=b.srcWidth,b.optHeight=b.srcHeight):null==b.optWidth?b.optWidth=d*b.optHeight:null==b.optHeight&&(b.optHeight=1/d*b.optWidth);f=b.optWidth/b.optHeight;a.height<b.optHeight||a.width<b.optWidth?(b.trgHeight=b.srcHeight,
b.trgWidth=b.srcWidth):d>f?(b.srcHeight=a.height,b.srcWidth=b.srcHeight*f):(b.srcWidth=a.width,b.srcHeight=b.srcWidth/f);b.srcX=(a.width-b.srcWidth)/2;b.srcY=(a.height-b.srcHeight)/2;return b},drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},
paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var b,d,f,h,m,t;this.element===this.previewsContainer&&this.element.classList.add("dz-started");if(this.previewsContainer){a.previewElement=c.createElement(this.options.previewTemplate.trim());a.previewTemplate=a.previewElement;this.previewsContainer.appendChild(a.previewElement);h=a.previewElement.querySelectorAll("[data-dz-name]");d=0;for(f=h.length;d<f;d++)b=h[d],b.textContent=a.name;h=a.previewElement.querySelectorAll("[data-dz-size]");
d=0;for(f=h.length;d<f;d++)b=h[d],b.innerHTML=this.filesize(a.size);this.options.addRemoveLinks&&(a._removeLink=c.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),a.previewElement.appendChild(a._removeLink));b=function(b){return function(d){d.preventDefault();d.stopPropagation();return a.status===c.UPLOADING?c.confirm(b.options.dictCancelUploadConfirmation,function(){return b.removeFile(a)}):b.options.dictRemoveFileConfirmation?
c.confirm(b.options.dictRemoveFileConfirmation,function(){return b.removeFile(a)}):b.removeFile(a)}}(this);m=a.previewElement.querySelectorAll("[data-dz-remove]");t=[];f=0;for(h=m.length;f<h;f++)d=m[f],t.push(d.addEventListener("click",b));return t}},removedfile:function(a){var b;a.previewElement&&null!=(b=a.previewElement)&&b.parentNode.removeChild(a.previewElement);return this._updateMaxFilesReachedClass()},thumbnail:function(a,b){var d,f,c,m,t;if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");
a.previewElement.classList.add("dz-image-preview");m=a.previewElement.querySelectorAll("[data-dz-thumbnail]");t=[];f=0;for(c=m.length;f<c;f++)d=m[f],d.alt=a.name,t.push(d.src=b);return t}},error:function(a,b){var d,f,c,m,t;if(a.previewElement){a.previewElement.classList.add("dz-error");"String"!==typeof b&&b.error&&(b=b.error);m=a.previewElement.querySelectorAll("[data-dz-errormessage]");t=[];f=0;for(c=m.length;f<c;f++)d=m[f],t.push(d.textContent=b);return t}},errormultiple:n,processing:function(a){if(a.previewElement&&
(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:n,uploadprogress:function(a,b,d){var f,c,m;if(a.previewElement){c=a.previewElement.querySelectorAll("[data-dz-uploadprogress]");m=[];d=0;for(f=c.length;d<f;d++)a=c[d],m.push(a.style.width=""+b+"%");return m}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:n,
canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:n,complete:function(a){if(a._removeLink)return a._removeLink.textContent=this.options.dictRemoveFile},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};
g=function(){var a,b,d,f,c,m,t;f=arguments[0];d=2<=arguments.length?D.call(arguments,1):[];m=0;for(t=d.length;m<t;m++)for(a in b=d[m],b)c=b[a],f[a]=c;return f};c.prototype.getAcceptedFiles=function(){var a,b,d,f,c;f=this.files;c=[];b=0;for(d=f.length;b<d;b++)a=f[b],a.accepted&&c.push(a);return c};c.prototype.getRejectedFiles=function(){var a,b,d,c,h;c=this.files;h=[];b=0;for(d=c.length;b<d;b++)a=c[b],a.accepted||h.push(a);return h};c.prototype.getFilesWithStatus=function(a){var b,d,c,h,m;h=this.files;
m=[];d=0;for(c=h.length;d<c;d++)b=h[d],b.status===a&&m.push(b);return m};c.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(c.QUEUED)};c.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(c.UPLOADING)};c.prototype.getActiveFiles=function(){var a,b,d,f,h;f=this.files;h=[];b=0;for(d=f.length;b<d;b++)a=f[b],a.status!==c.UPLOADING&&a.status!==c.QUEUED||h.push(a);return h};c.prototype.init=function(){var a,b,d,f,h,m;"form"===this.element.tagName&&this.element.setAttribute("enctype",
"multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(c.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"));this.clickableElements.length&&(d=function(a){return function(){a.hiddenFileInput&&document.body.removeChild(a.hiddenFileInput);a.hiddenFileInput=document.createElement("input");a.hiddenFileInput.setAttribute("type","file");(null==a.options.maxFiles||1<a.options.maxFiles)&&
a.hiddenFileInput.setAttribute("multiple","multiple");a.hiddenFileInput.className="dz-hidden-input";null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles);a.hiddenFileInput.style.visibility="hidden";a.hiddenFileInput.style.position="absolute";a.hiddenFileInput.style.top="0";a.hiddenFileInput.style.left="0";a.hiddenFileInput.style.height="0";a.hiddenFileInput.style.width="0";document.body.appendChild(a.hiddenFileInput);return a.hiddenFileInput.addEventListener("change",
function(){var b,c,f,h;c=a.hiddenFileInput.files;if(c.length)for(f=0,h=c.length;f<h;f++)b=c[f],a.addFile(b);return d()})}}(this),d());this.URL=null!=(a=window.URL)?a:window.webkitURL;m=this.events;f=0;for(h=m.length;f<h;f++)a=m[f],this.on(a,this.options[a]);this.on("uploadprogress",function(a){return function(){return a.updateTotalUploadProgress()}}(this));this.on("removedfile",function(a){return function(){return a.updateTotalUploadProgress()}}(this));this.on("canceled",function(a){return function(b){return a.emit("complete",
b)}}(this));this.on("complete",function(a){return function(b){if(0===a.getUploadingFiles().length&&0===a.getQueuedFiles().length)return setTimeout(function(){return a.emit("queuecomplete")},0)}}(this));b=function(a){a.stopPropagation();return a.preventDefault?a.preventDefault():a.returnValue=!1};this.listeners=[{element:this.element,events:{dragstart:function(a){return function(b){return a.emit("dragstart",b)}}(this),dragenter:function(a){return function(d){b(d);return a.emit("dragenter",d)}}(this),
dragover:function(a){return function(d){var c;try{c=d.dataTransfer.effectAllowed}catch(f){}d.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy";b(d);return a.emit("dragover",d)}}(this),dragleave:function(a){return function(b){return a.emit("dragleave",b)}}(this),drop:function(a){return function(d){b(d);return a.drop(d)}}(this),dragend:function(a){return function(b){return a.emit("dragend",b)}}(this)}}];this.clickableElements.forEach(function(a){return function(b){return a.listeners.push({element:b,
events:{click:function(d){if(b!==a.element||d.target===a.element||c.elementInside(d.target,a.element.querySelector(".dz-message")))return a.hiddenFileInput.click()}}})}}(this));this.enable();return this.options.init.call(this)};c.prototype.destroy=function(){var a;this.disable();this.removeAllFiles(!0);null!=(a=this.hiddenFileInput)&&a.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null);delete this.element.dropzone;return c.instances.splice(c.instances.indexOf(this),
1)};c.prototype.updateTotalUploadProgress=function(){var a,b,d,c,h,m;b=d=0;if(this.getActiveFiles().length){m=this.getActiveFiles();c=0;for(h=m.length;c<h;c++)a=m[c],d+=a.upload.bytesSent,b+=a.upload.total;a=100*d/b}else a=100;return this.emit("totaluploadprogress",a,b,d)};c.prototype._getParamName=function(a){return"function"===typeof this.options.paramName?this.options.paramName(a):""+this.options.paramName+(this.options.uploadMultiple?"["+a+"]":"")};c.prototype.getFallbackForm=function(){var a,
b;if(a=this.getExistingFallback())return a;a='<div class="dz-fallback">';this.options.dictFallbackText&&(a+="<p>"+this.options.dictFallbackText+"</p>");alert(this.options.uploadMultiple);a+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';a=c.createElement(a);"FORM"!==this.element.tagName?(b=c.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+
'"></form>'),b.appendChild(a)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method));return null!=b?b:a};c.prototype.getExistingFallback=function(){var a,b,d,c,h;b=function(a){var b,d,c;d=0;for(c=a.length;d<c;d++)if(b=a[d],/(^| )fallback($| )/.test(b.className))return b};h=["div","form"];d=0;for(c=h.length;d<c;d++)if(a=h[d],a=b(this.element.getElementsByTagName(a)))return a};c.prototype.setupEventListeners=function(){var a,b,d,c,h,m,e;
m=this.listeners;e=[];c=0;for(h=m.length;c<h;c++)a=m[c],e.push(function(){var c,f;c=a.events;f=[];for(b in c)d=c[b],f.push(a.element.addEventListener(b,d,!1));return f}());return e};c.prototype.removeEventListeners=function(){var a,b,d,c,h,m,e;m=this.listeners;e=[];c=0;for(h=m.length;c<h;c++)a=m[c],e.push(function(){var c,f;c=a.events;f=[];for(b in c)d=c[b],f.push(a.element.removeEventListener(b,d,!1));return f}());return e};c.prototype.disable=function(){var a,b,d,c,h;this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")});
this.removeEventListeners();c=this.files;h=[];b=0;for(d=c.length;b<d;b++)a=c[b],h.push(this.cancelUpload(a));return h};c.prototype.enable=function(){this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")});return this.setupEventListeners()};c.prototype.filesize=function(a){var b;1.099511627776E11<=a?(a/=1.099511627776E11,b="TiB"):1.073741824E8<=a?(a/=1.073741824E8,b="GiB"):104857.6<=a?(a/=104857.6,b="MiB"):102.4<=a?(a/=102.4,b="KiB"):(a*=10,b="b");return"<strong>"+Math.round(a)/
10+"</strong> "+b};c.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")};c.prototype.drop=function(a){var b;a.dataTransfer&&(this.emit("drop",a),b=a.dataTransfer.files,b.length&&((a=a.dataTransfer.items)&&a.length&&
null!=a[0].webkitGetAsEntry?this._addFilesFromItems(a):this.handleFiles(b)))};c.prototype.paste=function(a){var b;if(null!=(null!=a?null!=(b=a.clipboardData)?b.items:void 0:void 0)&&(this.emit("paste",a),a=a.clipboardData.items,a.length))return this._addFilesFromItems(a)};c.prototype.handleFiles=function(a){var b,d,c,h;h=[];d=0;for(c=a.length;d<c;d++)b=a[d],h.push(this.addFile(b));return h};c.prototype._addFilesFromItems=function(a){var b,c,f,h,m;m=[];f=0;for(h=a.length;f<h;f++)c=a[f],null!=c.webkitGetAsEntry&&
(b=c.webkitGetAsEntry())?b.isFile?m.push(this.addFile(c.getAsFile())):b.isDirectory?m.push(this._addFilesFromDirectory(b,b.name)):m.push(void 0):null!=c.getAsFile?null==c.kind||"file"===c.kind?m.push(this.addFile(c.getAsFile())):m.push(void 0):m.push(void 0);return m};c.prototype._addFilesFromDirectory=function(a,b){var c,f;c=a.createReader();f=function(a){return function(c){var d,f,e;f=0;for(e=c.length;f<e;f++)d=c[f],d.isFile?d.file(function(c){if(!a.options.ignoreHiddenFiles||"."!==c.name.substring(0,
1))return c.fullPath=""+b+"/"+c.name,a.addFile(c)}):d.isDirectory&&a._addFilesFromDirectory(d,""+b+"/"+d.name)}}(this);return c.readEntries(f,function(a){return"undefined"!==typeof console&&null!==console?"function"===typeof console.log?console.log(a):void 0:void 0})};c.prototype.accept=function(a,b){return a.size>1048576*this.options.maxFilesize?b(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):c.isValidFile(a,
this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(b(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,b):b(this.options.dictInvalidFileType)};c.prototype.addFile=function(a){a.upload={progress:0,total:a.size,bytesSent:0};this.files.push(a);a.status=c.ADDED;this.emit("addedfile",a);this._enqueueThumbnail(a);return this.accept(a,function(b){return function(c){c?
(a.accepted=!1,b._errorProcessing([a],c)):(a.accepted=!0,b.options.autoQueue&&b.enqueueFile(a));return b._updateMaxFilesReachedClass()}}(this))};c.prototype.enqueueFiles=function(a){var b,c,f;c=0;for(f=a.length;c<f;c++)b=a[c],this.enqueueFile(b);return null};c.prototype.enqueueFile=function(a){if(a.status===c.ADDED&&!0===a.accepted&&(a.status=c.QUEUED,this.options.autoProcessQueue))return setTimeout(function(a){return function(){return a.processQueue()}}(this),0)};c.prototype._thumbnailQueue=[];c.prototype._processingThumbnail=
!1;c.prototype._enqueueThumbnail=function(a){if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1048576*this.options.maxThumbnailFilesize)return this._thumbnailQueue.push(a),setTimeout(function(a){return function(){return a._processThumbnailQueue()}}(this),0)};c.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(a){return function(){a._processingThumbnail=
!1;return a._processThumbnailQueue()}}(this))};c.prototype.removeFile=function(a){a.status===c.UPLOADING&&this.cancelUpload(a);this.files=z(this.files,a);this.emit("removedfile",a);if(0===this.files.length)return this.emit("reset")};c.prototype.removeAllFiles=function(a){var b,d,f,h;null==a&&(a=!1);h=this.files.slice();d=0;for(f=h.length;d<f;d++)b=h[d],(b.status!==c.UPLOADING||a)&&this.removeFile(b);return null};c.prototype.createThumbnail=function(a,b){var c;c=new FileReader;c.onload=function(f){return function(){var h;
h=document.createElement("img");h.onload=function(){var c,d,e,g,A,k,l;a.width=h.width;a.height=h.height;e=f.options.resize.call(f,a);null==e.trgWidth&&(e.trgWidth=e.optWidth);null==e.trgHeight&&(e.trgHeight=e.optHeight);c=document.createElement("canvas");d=c.getContext("2d");c.width=e.trgWidth;c.height=e.trgHeight;r(d,h,null!=(g=e.srcX)?g:0,null!=(A=e.srcY)?A:0,e.srcWidth,e.srcHeight,null!=(k=e.trgX)?k:0,null!=(l=e.trgY)?l:0,e.trgWidth,e.trgHeight);c=c.toDataURL("image/png");f.emit("thumbnail",a,
c);if(null!=b)return b()};return h.src=c.result}}(this);return c.readAsDataURL(a)};c.prototype.processQueue=function(){var a,b,c,f;b=this.options.parallelUploads;a=c=this.getUploadingFiles().length;if(!(c>=b)&&(f=this.getQueuedFiles(),0<f.length)){if(this.options.uploadMultiple)return this.processFiles(f.slice(0,b-c));for(;a<b&&f.length;)this.processFile(f.shift()),a++}};c.prototype.processFile=function(a){return this.processFiles([a])};c.prototype.processFiles=function(a){var b,d,f;d=0;for(f=a.length;d<
f;d++)b=a[d],b.processing=!0,b.status=c.UPLOADING,this.emit("processing",b);this.options.uploadMultiple&&this.emit("processingmultiple",a);return this.uploadFiles(a)};c.prototype._getFilesWithXhr=function(a){var b,c,f,h,e;h=this.files;e=[];c=0;for(f=h.length;c<f;c++)b=h[c],b.xhr===a&&e.push(b);return e};c.prototype.cancelUpload=function(a){var b,d,f,h;if(a.status===c.UPLOADING){d=this._getFilesWithXhr(a.xhr);f=0;for(h=d.length;f<h;f++)b=d[f],b.status=c.CANCELED;a.xhr.abort();a=0;for(f=d.length;a<
f;a++)b=d[a],this.emit("canceled",b);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else if((b=a.status)===c.ADDED||b===c.QUEUED)a.status=c.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]);if(this.options.autoProcessQueue)return this.processQueue()};c.prototype.uploadFile=function(a){return this.uploadFiles([a])};c.prototype.uploadFiles=function(a){var b,d,f,h,e,k,l,p,n,r,u,q,v,w,x;q=new XMLHttpRequest;p=0;for(e=a.length;p<e;p++)b=a[p],
b.xhr=q;q.open(this.options.method,this.options.url,!0);p="auth";e=null;e=1==$.localStorage.get("rememberme")?$.localStorage.get(p):$.sessionStorage.get(p);null!=e&&q.setRequestHeader("Authorization","Bearer "+e.access_token);q.withCredentials=!!this.options.withCredentials;r=null;f=function(c){return function(){var d,f,e;e=[];d=0;for(f=a.length;d<f;d++)b=a[d],e.push(c._errorProcessing(a,r||c.options.dictResponseError.replace("{{statusCode}}",q.status),q));return e}}(this);u=function(c){return function(d){var f,
e,h;if(null!=d)for(f=100*d.loaded/d.total,e=0,h=a.length;e<h;e++)b=a[e],b.upload={progress:f,total:d.total,bytesSent:d.loaded};else{d=!0;f=100;e=0;for(h=a.length;e<h;e++){b=a[e];if(100!==b.upload.progress||b.upload.bytesSent!==b.upload.total)d=!1;b.upload.progress=f;b.upload.bytesSent=b.upload.total}if(d)return}h=[];d=0;for(e=a.length;d<e;d++)b=a[d],h.push(c.emit("uploadprogress",b,f,b.upload.bytesSent));return h}}(this);q.onload=function(b){return function(d){var e;if(a[0].status!==c.CANCELED&&4===
q.readyState){r=q.responseText;if(q.getResponseHeader("content-type")&&~q.getResponseHeader("content-type").indexOf("application/json"))try{r=JSON.parse(r)}catch(h){d=h,r="Invalid JSON response from server."}u();return 200<=(e=q.status)&&300>e?b._finished(a,r,d):f()}}}(this);q.onerror=function(b){return function(){if(a[0].status!==c.CANCELED)return f()}}(this);(null!=(h=q.upload)?h:q).onprogress=u;e={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&
g(e,this.options.headers);for(d in e)h=e[d],q.setRequestHeader(d,h);d=new FormData;if(this.options.params)for(p in e=this.options.params,e)h=e[p],d.append(p,h);p=0;for(h=a.length;p<h;p++)b=a[p],this.emit("sending",b,q,d);this.options.uploadMultiple&&this.emit("sendingmultiple",a,q,d);if("FORM"===this.element.tagName)for(w=this.element.querySelectorAll("input, textarea, select, button"),h=0,e=w.length;h<e;h++)if(l=w[h],p=l.getAttribute("name"),n=l.getAttribute("type"),"SELECT"===l.tagName&&l.hasAttribute("multiple"))for(x=
l.options,n=0,v=x.length;n<v;n++)l=x[n],l.selected&&d.append(p,l.value);else(!n||"checkbox"!==(k=n.toLowerCase())&&"radio"!==k||l.checked)&&d.append(p,l.value);k=p=0;for(h=a.length-1;0<=h?p<=h:p>=h;k=0<=h?++p:--p)d.append(this._getParamName(k),a[k],a[k].name);return q.send(d)};c.prototype._finished=function(a,b,d){var f,e,g;e=0;for(g=a.length;e<g;e++)f=a[e],f.status=c.SUCCESS,this.emit("success",f,b,d),this.emit("complete",f);this.options.uploadMultiple&&(this.emit("successmultiple",a,b,d),this.emit("completemultiple",
a));if(this.options.autoProcessQueue)return this.processQueue()};c.prototype._errorProcessing=function(a,b,d){var f,e,g;e=0;for(g=a.length;e<g;e++)f=a[e],f.status=c.ERROR,this.emit("error",f,b,d),this.emit("complete",f);this.options.uploadMultiple&&(this.emit("errormultiple",a,b,d),this.emit("completemultiple",a));if(this.options.autoProcessQueue)return this.processQueue()};return c}(k);g.version="3.10.2";g.options={};g.optionsForElement=function(e){if(e.getAttribute("id"))return g.options[y(e.getAttribute("id"))]};
g.instances=[];g.forElement=function(e){"string"===typeof e&&(e=document.querySelector(e));return e.dropzone};g.autoDiscover=!0;g.discover=function(){var e,c,k,a,b;document.querySelectorAll?c=document.querySelectorAll(".dropzone"):(c=[],e=function(a){var b,e,g,k;k=[];e=0;for(g=a.length;e<g;e++)b=a[e],/(^| )dropzone($| )/.test(b.className)?k.push(c.push(b)):k.push(void 0);return k},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form")));b=[];k=0;for(a=c.length;k<a;k++)e=c[k],
!1!==g.optionsForElement(e)?b.push(new g(e)):b.push(void 0);return b};g.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];g.isBrowserSupported=function(){var e,c,k,a,b;e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(b=g.blacklistedBrowsers,k=0,a=b.length;k<a;k++)c=b[k],c.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e};z=function(e,c){var g,a,b,d;d=[];a=0;for(b=e.length;a<
b;a++)g=e[a],g!==c&&d.push(g);return d};y=function(e){return e.replace(/[\-_](\w)/g,function(c){return c.charAt(1).toUpperCase()})};g.createElement=function(e){var c;c=document.createElement("div");c.innerHTML=e;return c.childNodes[0]};g.elementInside=function(e,c){if(e===c)return!0;for(;e=e.parentNode;)if(e===c)return!0;return!1};g.getElement=function(e,c){var g;"string"===typeof e?g=document.querySelector(e):null!=e.nodeType&&(g=e);return g};g.getElements=function(e,c){var g,a,b,d,f;if(e instanceof
Array){a=[];try{for(b=0,d=e.length;b<d;b++)g=e[b],a.push(this.getElement(g,c))}catch(h){a=null}}else if("string"===typeof e)for(a=[],f=document.querySelectorAll(e),b=0,d=f.length;b<d;b++)g=f[b],a.push(g);else null!=e.nodeType&&(a=[e]);return a};g.confirm=function(e,c,g){if(window.confirm(e))return c();if(null!=g)return g()};g.isValidFile=function(e,c){var g,a,b,d,f;if(!c)return!0;c=c.split(",");a=e.type;g=a.replace(/\/.*$/,"");d=0;for(f=c.length;d<f;d++)if(b=c[d],b=b.trim(),"."===b.charAt(0)){if(-1!==
e.name.toLowerCase().indexOf(b.toLowerCase(),e.name.length-b.length))return!0}else if(/\/\*$/.test(b)){if(g===b.replace(/\/.*$/,""))return!0}else if(a===b)return!0;return!1};"undefined"!==typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new g(this,e)})});"undefined"!==typeof u&&null!==u?u.exports=g:window.Dropzone=g;g.ADDED="added";g.QUEUED="queued";g.ACCEPTED=g.QUEUED;g.UPLOADING="uploading";g.PROCESSING=g.UPLOADING;g.CANCELED="canceled";g.ERROR="error";
g.SUCCESS="success";v=function(e){var c,g,a,b,d;a=e.naturalHeight;c=document.createElement("canvas");c.width=1;c.height=a;c=c.getContext("2d");c.drawImage(e,0,0);c=c.getImageData(0,0,1,a).data;d=0;for(b=g=a;b>d;)e=c[4*(b-1)+3],0===e?g=b:d=b,b=g+d>>1;a=b/a;return 0===a?1:a};r=function(e,c,g,a,b,d,f,h,k,l){var n;n=v(c);return e.drawImage(c,g,a,b,d,f,h,k,l/n)};g._autoDiscoverFunction=function(){if(g.autoDiscover)return g.discover()};(function(e,c){var g,a,b,d,f,h,k,l,n;b=!1;n=!0;a=e.document;l=a.documentElement;
g=a.addEventListener?"addEventListener":"attachEvent";k=a.addEventListener?"removeEventListener":"detachEvent";h=a.addEventListener?"":"on";d=function(f){if("readystatechange"!==f.type||"complete"===a.readyState)if(("load"===f.type?e:a)[k](h+f.type,d,!1),!b&&(b=!0))return c.call(e,f.type||f)};f=function(){try{l.doScroll("left")}catch(a){setTimeout(f,50);return}return d("poll")};if("complete"!==a.readyState){if(a.createEventObject&&l.doScroll){try{n=!e.frameElement}catch(p){}n&&f()}a[g](h+"DOMContentLoaded",
d,!1);a[g](h+"readystatechange",d,!1);return e[g](h+"load",d,!1)}})(window,g._autoDiscoverFunction)}).call(this)});"object"==typeof exports?module.exports=l("dropzone"):"function"==typeof define&&define.amd?define([],function(){return l("dropzone")}):this.Dropzone=l("dropzone")})();
